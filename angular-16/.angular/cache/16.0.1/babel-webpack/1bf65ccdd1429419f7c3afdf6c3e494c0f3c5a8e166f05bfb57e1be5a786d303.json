{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/auth.service\";\nimport * as i2 from \"@angular/platform-browser\";\nclass ProfileComponent {\n  constructor(authService, sanitizer) {\n    this.authService = authService;\n    this.sanitizer = sanitizer;\n  }\n  ngOnInit() {\n    this.authService.getUserDetails().subscribe({\n      next: res => {\n        this.user = res;\n        console.log('User:', this.user); // 🔍 Check if roles are present\n        if (this.user?.imageUrl) {\n          this.safeImageUrl = this.sanitizer.bypassSecurityTrustUrl(this.user.imageUrl);\n        }\n      },\n      error: err => {\n        console.error('Error fetching user details:', err);\n      }\n    });\n  }\n  getUserRoles() {\n    if (!this.user?.roles || !Array.isArray(this.user.roles)) return 'No roles';\n    return this.user.roles.map(r => r.name).join(', ');\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.DomSanitizer));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 1,\n  vars: 0,\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0, \"ma\");\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ProfileComponent };","map":{"version":3,"names":["ProfileComponent","constructor","authService","sanitizer","ngOnInit","getUserDetails","subscribe","next","res","user","console","log","imageUrl","safeImageUrl","bypassSecurityTrustUrl","error","err","getUserRoles","roles","Array","isArray","map","r","name","join","i0","ɵɵdirectiveInject","i1","AuthService","i2","DomSanitizer","selectors","decls","vars","template","ProfileComponent_Template","rf","ctx","ɵɵtext"],"sources":["C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\profile\\profile.component.ts","C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\profile\\profile.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { AuthService } from 'src/app/Services/auth.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss'],\n  standalone: false,\n})\nexport class ProfileComponent implements OnInit {\n  user: any;\n  safeImageUrl: SafeUrl | undefined;\n\n  constructor(\n    private authService: AuthService,\n    private sanitizer: DomSanitizer\n  ) {}\n\n  ngOnInit(): void {\n    this.authService.getUserDetails().subscribe({\n      next: (res) => {\n        this.user = res;\n        console.log('User:', this.user); // 🔍 Check if roles are present\n\n        if (this.user?.imageUrl) {\n          this.safeImageUrl = this.sanitizer.bypassSecurityTrustUrl(this.user.imageUrl);\n        }\n      },\n      error: (err) => {\n        console.error('Error fetching user details:', err);\n      }\n    });\n  }\n\n  getUserRoles(): string {\n    if (!this.user?.roles || !Array.isArray(this.user.roles)) return 'No roles';\n    return this.user.roles.map((r: any) => r.name).join(', ');\n  }\n}\n","ma"],"mappings":";;;AAIA,MAMaA,gBAAgB;EAI3BC,YACUC,WAAwB,EACxBC,SAAuB;IADvB,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,SAAS,GAATA,SAAS;EAChB;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACF,WAAW,CAACG,cAAc,EAAE,CAACC,SAAS,CAAC;MAC1CC,IAAI,EAAGC,GAAG,IAAI;QACZ,IAAI,CAACC,IAAI,GAAGD,GAAG;QACfE,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE,IAAI,CAACF,IAAI,CAAC,CAAC,CAAC;QAEjC,IAAI,IAAI,CAACA,IAAI,EAAEG,QAAQ,EAAE;UACvB,IAAI,CAACC,YAAY,GAAG,IAAI,CAACV,SAAS,CAACW,sBAAsB,CAAC,IAAI,CAACL,IAAI,CAACG,QAAQ,CAAC;;MAEjF,CAAC;MACDG,KAAK,EAAGC,GAAG,IAAI;QACbN,OAAO,CAACK,KAAK,CAAC,8BAA8B,EAAEC,GAAG,CAAC;MACpD;KACD,CAAC;EACJ;EAEAC,YAAYA,CAAA;IACV,IAAI,CAAC,IAAI,CAACR,IAAI,EAAES,KAAK,IAAI,CAACC,KAAK,CAACC,OAAO,CAAC,IAAI,CAACX,IAAI,CAACS,KAAK,CAAC,EAAE,OAAO,UAAU;IAC3E,OAAO,IAAI,CAACT,IAAI,CAACS,KAAK,CAACG,GAAG,CAAEC,CAAM,IAAKA,CAAC,CAACC,IAAI,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;EAC3D;;AA5BWxB,gBAAgB,C;mBAAhBA,gBAAgB,EAAAyB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,YAAA;AAAA;AAAhB9B,gBAAgB,C;QAAhBA,gBAAgB;EAAA+B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCV7BX,EAAA,CAAAa,MAAA,SAAE;;;;;SDUWtC,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}