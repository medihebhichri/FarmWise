{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/auth.service\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction ProfileComponent_img_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 13);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.safeImageUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProfileComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 14);\n  }\n}\nclass ProfileComponent {\n  constructor(authService, sanitizer) {\n    this.authService = authService;\n    this.sanitizer = sanitizer;\n  }\n  ngOnInit() {\n    this.authService.getUserDetails().subscribe({\n      next: res => {\n        this.user = res;\n        console.log('User:', this.user); // 🔍 Check if roles are present\n        if (this.user?.imageUrl) {\n          this.safeImageUrl = this.sanitizer.bypassSecurityTrustUrl(this.user.imageUrl);\n        }\n      },\n      error: err => {\n        console.error('Error fetching user details:', err);\n      }\n    });\n  }\n  getUserRoles() {\n    if (!this.user?.roles || !Array.isArray(this.user.roles)) return 'No roles';\n    return this.user.roles.map(r => r.name).join(', ');\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.DomSanitizer));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 27,\n  vars: 6,\n  consts: [[1, \"profile-wrapper\", \"d-flex\", \"align-items-center\", \"justify-content-center\"], [1, \"card\", \"p-4\", 2, \"width\", \"400px\"], [1, \"mb-3\", \"text-center\"], [1, \"text-center\", \"mb-3\"], [\"alt\", \"Profile Picture\", \"class\", \"rounded-circle\", \"style\", \"width: 100px; height: 100px;\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"placeholder rounded-circle\", \"style\", \"width: 100px; height: 100px; background-color: #f0f0f0;\", 4, \"ngIf\"], [1, \"mb-3\"], [1, \"form-label\"], [1, \"form-control-static\"], [1, \"text-center\", \"mb-4\"], [\"src\", \"assets/images/farmwise-logo.png\", \"alt\", \"Farmwise Logo\", 2, \"width\", \"150px\"], [1, \"text-center\"], [\"routerLink\", \"/dashboard\", 1, \"btn\", \"btn-primary\"], [\"alt\", \"Profile Picture\", 1, \"rounded-circle\", 2, \"width\", \"100px\", \"height\", \"100px\", 3, \"src\"], [1, \"placeholder\", \"rounded-circle\", 2, \"width\", \"100px\", \"height\", \"100px\", \"background-color\", \"#f0f0f0\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h4\", 2);\n      i0.ɵɵtext(3, \"User Profile\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵtemplate(5, ProfileComponent_img_5_Template, 1, 1, \"img\", 4);\n      i0.ɵɵtemplate(6, ProfileComponent_div_6_Template, 1, 0, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"label\", 7);\n      i0.ɵɵtext(9, \"Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"p\", 8);\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 6)(13, \"label\", 7);\n      i0.ɵɵtext(14, \"Username:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"p\", 8);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 9);\n      i0.ɵɵelement(18, \"img\", 10);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"div\", 6)(20, \"label\", 7);\n      i0.ɵɵtext(21, \"Roles:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"p\", 8);\n      i0.ɵɵtext(23);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"div\", 11)(25, \"button\", 12);\n      i0.ɵɵtext(26, \"Go to Dashboard\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.safeImageUrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.safeImageUrl);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate2(\"\", ctx.user == null ? null : ctx.user.firstName, \" \", ctx.user == null ? null : ctx.user.lastName, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.user == null ? null : ctx.user.username);\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate(ctx.getUserRoles());\n    }\n  },\n  dependencies: [i3.NgIf, i4.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ProfileComponent };","map":{"version":3,"names":["i0","ɵɵelement","ɵɵproperty","ctx_r0","safeImageUrl","ɵɵsanitizeUrl","ProfileComponent","constructor","authService","sanitizer","ngOnInit","getUserDetails","subscribe","next","res","user","console","log","imageUrl","bypassSecurityTrustUrl","error","err","getUserRoles","roles","Array","isArray","map","r","name","join","ɵɵdirectiveInject","i1","AuthService","i2","DomSanitizer","selectors","decls","vars","consts","template","ProfileComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","ProfileComponent_img_5_Template","ProfileComponent_div_6_Template","ɵɵadvance","ɵɵtextInterpolate2","firstName","lastName","ɵɵtextInterpolate","username"],"sources":["C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\profile\\profile.component.ts","C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\profile\\profile.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { AuthService } from 'src/app/Services/auth.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss'],\n  standalone: false,\n})\nexport class ProfileComponent implements OnInit {\n  user: any;\n  safeImageUrl: SafeUrl | undefined;\n\n  constructor(\n    private authService: AuthService,\n    private sanitizer: DomSanitizer\n  ) {}\n\n  ngOnInit(): void {\n    this.authService.getUserDetails().subscribe({\n      next: (res) => {\n        this.user = res;\n        console.log('User:', this.user); // 🔍 Check if roles are present\n\n        if (this.user?.imageUrl) {\n          this.safeImageUrl = this.sanitizer.bypassSecurityTrustUrl(this.user.imageUrl);\n        }\n      },\n      error: (err) => {\n        console.error('Error fetching user details:', err);\n      }\n    });\n  }\n\n  getUserRoles(): string {\n    if (!this.user?.roles || !Array.isArray(this.user.roles)) return 'No roles';\n    return this.user.roles.map((r: any) => r.name).join(', ');\n  }\n}\n","<div class=\"profile-wrapper d-flex align-items-center justify-content-center\">\n  <div class=\"card p-4\" style=\"width: 400px;\">\n    <h4 class=\"mb-3 text-center\">User Profile</h4>\n\n    <div class=\"text-center mb-3\">\n      <img *ngIf=\"safeImageUrl\" [src]=\"safeImageUrl\" alt=\"Profile Picture\" class=\"rounded-circle\" style=\"width: 100px; height: 100px;\">\n      <div *ngIf=\"!safeImageUrl\" class=\"placeholder rounded-circle\" style=\"width: 100px; height: 100px; background-color: #f0f0f0;\"></div>\n    </div>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Name:</label>\n      <p class=\"form-control-static\">{{ user?.firstName }} {{ user?.lastName }}</p>\n    </div>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Username:</label>\n      <p class=\"form-control-static\">{{ user?.username }}</p>\n    </div>\n\n    <div class=\"text-center mb-4\">\n      <img src=\"assets/images/farmwise-logo.png\" alt=\"Farmwise Logo\" style=\"width: 150px;\">\n    </div>\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Roles:</label>\n      <p class=\"form-control-static\">{{ getUserRoles() }}</p>\n    </div>\n\n    <div class=\"text-center\">\n      <button class=\"btn btn-primary\" routerLink=\"/dashboard\">Go to Dashboard</button>\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}