{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/Services/feature.service\";\nimport * as i3 from \"@angular/common\";\nfunction FeatureComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nfunction FeatureComponent_div_16_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const key_r4 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", key_r4, \":\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.getFeatureValue(key_r4), \" \");\n  }\n}\nfunction FeatureComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"h3\", 11);\n    i0.ɵɵtext(2, \"Results:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, FeatureComponent_div_16_div_3_Template, 4, 2, \"div\", 12);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.objectKeys(ctx_r2.features));\n  }\n}\nclass FeatureComponent {\n  constructor(fb, svc) {\n    this.fb = fb;\n    this.svc = svc;\n    this.result = null;\n    this.loading = false;\n    this.error = null;\n  }\n  ngOnInit() {\n    // build a form with all expected features\n    this.form = this.fb.group({\n      K: [50, [Validators.required, Validators.min(0)]],\n      N: [0.3, [Validators.required, Validators.min(0)]],\n      P: [35, [Validators.required, Validators.min(0)]],\n      humidity: [78.5, [Validators.required, Validators.min(0), Validators.max(100)]],\n      ph: [6.8, [Validators.required, Validators.min(0), Validators.max(14)]],\n      rainfall: [120, [Validators.required, Validators.min(0)]],\n      temperature: [22.5, [Validators.required]]\n    });\n  }\n  onSubmit() {\n    if (this.form.invalid) return;\n    this.loading = true;\n    this.result = this.error = null;\n    this.svc.recommend(this.form.value).subscribe({\n      next: res => {\n        this.result = res.recommended_crop;\n        this.loading = false;\n      },\n      error: err => {\n        this.error = err.error?.detail || 'Server error';\n        this.loading = false;\n      }\n    });\n  }\n}\nFeatureComponent.ɵfac = function FeatureComponent_Factory(t) {\n  return new (t || FeatureComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.FeatureService));\n};\nFeatureComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: FeatureComponent,\n  selectors: [[\"app-feature\"]],\n  decls: 17,\n  vars: 6,\n  consts: [[1, \"p-4\", \"max-w-md\", \"mx-auto\"], [1, \"text-xl\", \"font-bold\", \"mb-4\"], [1, \"space-y-3\", 3, \"ngSubmit\"], [\"f\", \"ngForm\"], [\"type\", \"number\", \"name\", \"lat\", \"required\", \"\", \"step\", \"any\", 1, \"border\", \"p-1\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"number\", \"name\", \"lon\", \"required\", \"\", \"step\", \"any\", 1, \"border\", \"p-1\", \"w-full\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 1, \"bg-blue-600\", \"text-white\", \"px-4\", \"py-2\", \"rounded\", 3, \"disabled\"], [\"class\", \"mt-4 text-red-600\", 4, \"ngIf\"], [\"class\", \"mt-6 space-y-2 bg-gray-100 p-4 rounded\", 4, \"ngIf\"], [1, \"mt-4\", \"text-red-600\"], [1, \"mt-6\", \"space-y-2\", \"bg-gray-100\", \"p-4\", \"rounded\"], [1, \"font-semibold\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function FeatureComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2, \"Soil & Climate Features\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 2, 3);\n      i0.ɵɵlistener(\"ngSubmit\", function FeatureComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.fetchFeatures();\n      });\n      i0.ɵɵelementStart(5, \"div\")(6, \"label\");\n      i0.ɵɵtext(7, \"Latitude:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function FeatureComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.lat = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\")(10, \"label\");\n      i0.ɵɵtext(11, \"Longitude:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"input\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function FeatureComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.lon = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"button\", 6);\n      i0.ɵɵtext(14);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(15, FeatureComponent_div_15_Template, 2, 1, \"div\", 7);\n      i0.ɵɵtemplate(16, FeatureComponent_div_16_Template, 4, 1, \"div\", 8);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(4);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.lat);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.lon);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", _r0.invalid || ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Loading\\u2026\" : \"Fetch Features\", \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.error);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.features);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NumberValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.NgModel, i1.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { FeatureComponent };","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","error","ɵɵtextInterpolate1","key_r4","ctx_r3","getFeatureValue","ɵɵtemplate","FeatureComponent_div_16_div_3_Template","ɵɵproperty","ctx_r2","objectKeys","features","FeatureComponent","constructor","fb","svc","result","loading","ngOnInit","form","group","K","required","min","N","P","humidity","max","ph","rainfall","temperature","onSubmit","invalid","recommend","value","subscribe","next","res","recommended_crop","err","detail","ɵɵdirectiveInject","i1","FormBuilder","i2","FeatureService","selectors","decls","vars","consts","template","FeatureComponent_Template","rf","ctx","ɵɵlistener","FeatureComponent_Template_form_ngSubmit_3_listener","fetchFeatures","FeatureComponent_Template_input_ngModelChange_8_listener","$event","lat","FeatureComponent_Template_input_ngModelChange_12_listener","lon","FeatureComponent_div_15_Template","FeatureComponent_div_16_Template","_r0"],"sources":["C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\feature\\feature.component.ts","C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\feature\\feature.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { CropResponse, FeatureService } from 'src/app/Services/feature.service';\n\n@Component({\n  selector: 'app-feature',\n  templateUrl: './feature.component.html',\n  styleUrls: ['./feature.component.scss']\n})\nexport class FeatureComponent implements OnInit {\n  form!: FormGroup;\n  result: string | null = null;\n  loading = false;\n  error: string | null = null;\n\n  constructor(\n    private fb: FormBuilder,\n    private svc: FeatureService\n  ) {}\n\n  ngOnInit(): void {\n    // build a form with all expected features\n    this.form = this.fb.group({\n      K:        [50,      [Validators.required, Validators.min(0)]],\n      N:        [0.3,     [Validators.required, Validators.min(0)]],\n      P:        [35,      [Validators.required, Validators.min(0)]],\n      humidity: [78.5,    [Validators.required, Validators.min(0), Validators.max(100)]],\n      ph:       [6.8,     [Validators.required, Validators.min(0), Validators.max(14)]],\n      rainfall: [120,     [Validators.required, Validators.min(0)]],\n      temperature: [22.5, [Validators.required]]\n    });\n  }\n\n  onSubmit(): void {\n    if (this.form.invalid) return;\n    this.loading = true;\n    this.result = this.error = null;\n\n    this.svc.recommend(this.form.value).subscribe({\n      next: (res: CropResponse) => {\n        this.result = res.recommended_crop;\n        this.loading = false;\n      },\n      error: (err) => {\n        this.error = err.error?.detail || 'Server error';\n        this.loading = false;\n      }\n    });\n  }\n}\n","<div class=\"p-4 max-w-md mx-auto\">\n  <h2 class=\"text-xl font-bold mb-4\">Soil & Climate Features</h2>\n  <form (ngSubmit)=\"fetchFeatures()\" #f=\"ngForm\" class=\"space-y-3\">\n    <div>\n      <label>Latitude:</label>\n      <input\n        type=\"number\"\n        name=\"lat\"\n        [(ngModel)]=\"lat\"\n        required\n        step=\"any\"\n        class=\"border p-1 w-full\"\n      />\n    </div>\n    <div>\n      <label>Longitude:</label>\n      <input\n        type=\"number\"\n        name=\"lon\"\n        [(ngModel)]=\"lon\"\n        required\n        step=\"any\"\n        class=\"border p-1 w-full\"\n      />\n    </div>\n    <button\n      type=\"submit\"\n      [disabled]=\"f.invalid || loading\"\n      class=\"bg-blue-600 text-white px-4 py-2 rounded\"\n    >\n      {{ loading ? 'Loading…' : 'Fetch Features' }}\n    </button>\n  </form>\n\n  <div *ngIf=\"error\" class=\"mt-4 text-red-600\">{{ error }}</div>\n\n  <div *ngIf=\"features\" class=\"mt-6 space-y-2 bg-gray-100 p-4 rounded\">\n    <h3 class=\"font-semibold\">Results:</h3>\n    <div *ngFor=\"let key of objectKeys(features)\">\n      <strong>{{ key }}:</strong> {{ getFeatureValue(key) }}\n    </div>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}