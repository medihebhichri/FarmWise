{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nfunction SignupComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Name is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" A valid email is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction SignupComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Password must be at least 6 characters. \");\n    i0.ɵɵelementEnd();\n  }\n}\nclass SignupComponent {\n  constructor(authService, router, fb) {\n    this.authService = authService;\n    this.router = router;\n    this.fb = fb;\n    this.userData = {\n      firstName: '',\n      lastName: '',\n      username: '',\n      password: '',\n      imageUrl: '' // 🔥 Add this field\n    };\n\n    this.form = this.fb.group({\n      name: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        this.userData.imageUrl = e.target.result; // FULL Data URL\n      };\n\n      reader.readAsDataURL(file); // ⚡️ NOT readAsText!\n    }\n  }\n\n  onSignup() {\n    console.log('Payload being sent:', this.userData);\n    this.authService.signup(this.userData).subscribe({\n      next: () => this.router.navigate(['/login']),\n      error: err => console.error('Signup error:', err)\n    });\n  }\n  onSubmit() {\n    if (this.form.valid) {\n      const {\n        name,\n        email,\n        password\n      } = this.form.value;\n      this.userData.username = name;\n      this.userData.email = email;\n      this.userData.password = password;\n      this.onSignup();\n    } else {\n      console.error('Form is invalid');\n    }\n  }\n}\nSignupComponent.ɵfac = function SignupComponent_Factory(t) {\n  return new (t || SignupComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.FormBuilder));\n};\nSignupComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SignupComponent,\n  selectors: [[\"app-signup\"]],\n  decls: 30,\n  vars: 5,\n  consts: [[1, \"auth-wrapper\", \"d-flex\", \"align-items-center\", \"justify-content-center\"], [1, \"card\", \"p-4\", 2, \"width\", \"350px\"], [1, \"mb-3\", \"text-center\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [1, \"form-label\"], [\"type\", \"text\", \"formControlName\", \"name\", 1, \"form-control\"], [\"class\", \"text-danger small\", 4, \"ngIf\"], [\"type\", \"email\", \"formControlName\", \"email\", 1, \"form-control\"], [\"type\", \"password\", \"formControlName\", \"password\", 1, \"form-control\"], [\"type\", \"file\", 1, \"form-control\", 3, \"change\"], [1, \"btn\", \"btn-success\", \"w-100\", 3, \"disabled\"], [1, \"mt-2\", \"text-center\"], [\"routerLink\", \"/auth/login\"], [1, \"text-danger\", \"small\"]],\n  template: function SignupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h4\", 2);\n      i0.ɵɵtext(3, \"Sign Up\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"form\", 3);\n      i0.ɵɵlistener(\"ngSubmit\", function SignupComponent_Template_form_ngSubmit_4_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"label\", 5);\n      i0.ɵɵtext(7, \"Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"input\", 6);\n      i0.ɵɵtemplate(9, SignupComponent_div_9_Template, 2, 0, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 5);\n      i0.ɵɵtext(12, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 8);\n      i0.ɵɵtemplate(14, SignupComponent_div_14_Template, 2, 0, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 4)(16, \"label\", 5);\n      i0.ɵɵtext(17, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 9);\n      i0.ɵɵtemplate(19, SignupComponent_div_19_Template, 2, 0, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 4)(21, \"label\", 5);\n      i0.ɵɵtext(22, \"Profile Picture\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"input\", 10);\n      i0.ɵɵlistener(\"change\", function SignupComponent_Template_input_change_23_listener($event) {\n        return ctx.onFileSelected($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(24, \"button\", 11);\n      i0.ɵɵtext(25, \" Create Account \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"p\", 12);\n      i0.ɵɵtext(27, \" Already have an account? \");\n      i0.ɵɵelementStart(28, \"a\", 13);\n      i0.ɵɵtext(29, \"Login\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.form.controls[\"name\"].invalid && ctx.form.controls[\"name\"].touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.form.controls[\"email\"].invalid && ctx.form.controls[\"email\"].touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.form.controls[\"password\"].invalid && ctx.form.controls[\"password\"].touched);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n    }\n  },\n  dependencies: [i4.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.FormControlName, i2.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { SignupComponent };","map":{"version":3,"names":["Validators","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","SignupComponent","constructor","authService","router","fb","userData","firstName","lastName","username","password","imageUrl","form","group","name","required","email","minLength","onFileSelected","event","file","target","files","reader","FileReader","onload","e","result","readAsDataURL","onSignup","console","log","signup","subscribe","next","navigate","error","err","onSubmit","valid","value","ɵɵdirectiveInject","i1","AuthService","i2","Router","i3","FormBuilder","selectors","decls","vars","consts","template","SignupComponent_Template","rf","ctx","ɵɵlistener","SignupComponent_Template_form_ngSubmit_4_listener","ɵɵelement","ɵɵtemplate","SignupComponent_div_9_Template","SignupComponent_div_14_Template","SignupComponent_div_19_Template","SignupComponent_Template_input_change_23_listener","$event","ɵɵadvance","ɵɵproperty","controls","invalid","touched"],"sources":["C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\auth\\signup\\signup.component.ts","C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\auth\\signup\\signup.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/Services/auth.service';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  standalone: false,\n  styleUrls: ['./signup.component.scss'],\n})\nexport class SignupComponent {\n  userData: any = {\n    firstName: '',\n    lastName: '',\n    username: '',\n    password: '',\n    imageUrl: ''   // 🔥 Add this field\n  };\n  form: FormGroup;\n\n  constructor(private authService: AuthService, private router: Router, private fb: FormBuilder) {\n    this.form = this.fb.group({\n      name: ['', [Validators.required]],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(6)]]\n    });\n  }\n\n  onFileSelected(event: any): void {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e: any) => {\n        this.userData.imageUrl = e.target.result; // FULL Data URL\n      };\n      reader.readAsDataURL(file); // ⚡️ NOT readAsText!\n    }\n  }\n  \n\n  onSignup(): void {\n    console.log('Payload being sent:', this.userData);\n    this.authService.signup(this.userData).subscribe({\n      next: () => this.router.navigate(['/login']),\n      error: (err) => console.error('Signup error:', err)\n    });\n  }\n\n  onSubmit(): void {\n    if (this.form.valid) {\n      const { name, email, password } = this.form.value;\n      this.userData.username = name;\n      this.userData.email = email;\n      this.userData.password = password;\n      this.onSignup();\n    } else {\n      console.error('Form is invalid');\n    }\n  }\n}\n","<div class=\"auth-wrapper d-flex align-items-center justify-content-center\">\n  <div class=\"card p-4\" style=\"width: 350px;\">\n    <h4 class=\"mb-3 text-center\">Sign Up</h4>\n    <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Name</label>\n        <input type=\"text\" class=\"form-control\" formControlName=\"name\">\n        <div *ngIf=\"form.controls['name'].invalid && form.controls['name'].touched\"\n             class=\"text-danger small\">\n          Name is required.\n        </div>\n      </div>\n\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Email</label>\n        <input type=\"email\" class=\"form-control\" formControlName=\"email\">\n        <div *ngIf=\"form.controls['email'].invalid && form.controls['email'].touched\"\n             class=\"text-danger small\">\n          A valid email is required.\n        </div>\n      </div>\n\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Password</label>\n        <input type=\"password\" class=\"form-control\" formControlName=\"password\">\n        <div *ngIf=\"form.controls['password'].invalid && form.controls['password'].touched\"\n             class=\"text-danger small\">\n          Password must be at least 6 characters.\n        </div>\n      </div>\n\n      <div class=\"mb-3\">\n        <label class=\"form-label\">Profile Picture</label>\n        <input type=\"file\" class=\"form-control\" (change)=\"onFileSelected($event)\">\n      </div>\n\n      <button class=\"btn btn-success w-100\" [disabled]=\"form.invalid\">\n        Create Account\n      </button>\n\n      <p class=\"mt-2 text-center\">\n        Already have an account?\n        <a routerLink=\"/auth/login\">Login</a>\n      </p>\n    </form>\n  </div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}