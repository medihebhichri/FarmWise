{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/auth.service\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nfunction ProfileComponent_img_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 11);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", ctx_r0.safeImageUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ProfileComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 12);\n  }\n}\nclass ProfileComponent {\n  constructor(authService, sanitizer) {\n    this.authService = authService;\n    this.sanitizer = sanitizer;\n  }\n  ngOnInit() {\n    this.authService.getUserDetails().subscribe(res => {\n      this.user = res;\n      console.log('User:', this.user); // 🔍 Check if roles are present\n      if (this.user?.imageUrl) {\n        this.safeImageUrl = this.sanitizer.bypassSecurityTrustUrl(this.user.imageUrl);\n      }\n    });\n  }\n  getUserRoles() {\n    if (!this.user?.roles || !Array.isArray(this.user.roles)) return 'No roles';\n    return this.user.roles.map(r => r.name).join(', ');\n  }\n}\nProfileComponent.ɵfac = function ProfileComponent_Factory(t) {\n  return new (t || ProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.DomSanitizer));\n};\nProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProfileComponent,\n  selectors: [[\"app-profile\"]],\n  decls: 25,\n  vars: 6,\n  consts: [[1, \"profile-wrapper\", \"d-flex\", \"align-items-center\", \"justify-content-center\"], [1, \"card\", \"p-4\", 2, \"width\", \"400px\"], [1, \"mb-3\", \"text-center\"], [1, \"text-center\", \"mb-3\"], [\"alt\", \"Profile Picture\", \"class\", \"rounded-circle\", \"style\", \"width: 100px; height: 100px;\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"placeholder rounded-circle\", \"style\", \"width: 100px; height: 100px; background-color: #f0f0f0;\", 4, \"ngIf\"], [1, \"mb-3\"], [1, \"form-label\"], [1, \"form-control-static\"], [1, \"text-center\"], [\"routerLink\", \"/dashboard\", 1, \"btn\", \"btn-primary\"], [\"alt\", \"Profile Picture\", 1, \"rounded-circle\", 2, \"width\", \"100px\", \"height\", \"100px\", 3, \"src\"], [1, \"placeholder\", \"rounded-circle\", 2, \"width\", \"100px\", \"height\", \"100px\", \"background-color\", \"#f0f0f0\"]],\n  template: function ProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h4\", 2);\n      i0.ɵɵtext(3, \"User Profile\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3);\n      i0.ɵɵtemplate(5, ProfileComponent_img_5_Template, 1, 1, \"img\", 4);\n      i0.ɵɵtemplate(6, ProfileComponent_div_6_Template, 1, 0, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"label\", 7);\n      i0.ɵɵtext(9, \"Name:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"p\", 8);\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(12, \"div\", 6)(13, \"label\", 7);\n      i0.ɵɵtext(14, \"Username:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"p\", 8);\n      i0.ɵɵtext(16);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"div\", 6)(18, \"label\", 7);\n      i0.ɵɵtext(19, \"Roles:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"p\", 8);\n      i0.ɵɵtext(21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 9)(23, \"button\", 10);\n      i0.ɵɵtext(24, \"Go to Dashboard\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.safeImageUrl);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.safeImageUrl);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate2(\"\", ctx.user == null ? null : ctx.user.firstName, \" \", ctx.user == null ? null : ctx.user.lastName, \"\");\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.user == null ? null : ctx.user.username);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.getUserRoles());\n    }\n  },\n  dependencies: [i3.NgIf, i4.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ProfileComponent };","map":{"version":3,"names":["i0","ɵɵelement","ɵɵproperty","ctx_r0","safeImageUrl","ɵɵsanitizeUrl","ProfileComponent","constructor","authService","sanitizer","ngOnInit","getUserDetails","subscribe","res","user","console","log","imageUrl","bypassSecurityTrustUrl","getUserRoles","roles","Array","isArray","map","r","name","join","ɵɵdirectiveInject","i1","AuthService","i2","DomSanitizer","selectors","decls","vars","consts","template","ProfileComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","ProfileComponent_img_5_Template","ProfileComponent_div_6_Template","ɵɵadvance","ɵɵtextInterpolate2","firstName","lastName","ɵɵtextInterpolate","username"],"sources":["C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\profile\\profile.component.ts","C:\\Users\\MSI\\Downloads\\admin-pro-angular-lite-master\\admin-pro-angular-lite-master\\angular-16\\src\\app\\pages\\profile\\profile.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DomSanitizer, SafeUrl } from '@angular/platform-browser';\nimport { AuthService } from 'src/app/Services/auth.service';\n\n@Component({\n  selector: 'app-profile',\n  templateUrl: './profile.component.html',\n  styleUrls: ['./profile.component.scss'],\n  standalone: false,\n})\nexport class ProfileComponent implements OnInit {\n  user: any;\n  safeImageUrl: SafeUrl | undefined;\n\n  constructor(\n    private authService: AuthService,\n    private sanitizer: DomSanitizer\n  ) {}\n\n  ngOnInit(): void {\n    this.authService.getUserDetails().subscribe((res) => {\n      this.user = res;\n      console.log('User:', this.user); // 🔍 Check if roles are present\n\n      if (this.user?.imageUrl) {\n        this.safeImageUrl = this.sanitizer.bypassSecurityTrustUrl(this.user.imageUrl);\n      }\n    });\n  }\n\n  getUserRoles(): string {\n    if (!this.user?.roles || !Array.isArray(this.user.roles)) return 'No roles';\n    return this.user.roles.map((r: any) => r.name).join(', ');\n  }\n}\n","<div class=\"profile-wrapper d-flex align-items-center justify-content-center\">\n  <div class=\"card p-4\" style=\"width: 400px;\">\n    <h4 class=\"mb-3 text-center\">User Profile</h4>\n\n    <div class=\"text-center mb-3\">\n      <img *ngIf=\"safeImageUrl\" [src]=\"safeImageUrl\" alt=\"Profile Picture\" class=\"rounded-circle\" style=\"width: 100px; height: 100px;\">\n      <div *ngIf=\"!safeImageUrl\" class=\"placeholder rounded-circle\" style=\"width: 100px; height: 100px; background-color: #f0f0f0;\"></div>\n    </div>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Name:</label>\n      <p class=\"form-control-static\">{{ user?.firstName }} {{ user?.lastName }}</p>\n    </div>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Username:</label>\n      <p class=\"form-control-static\">{{ user?.username }}</p>\n    </div>\n\n    <div class=\"mb-3\">\n      <label class=\"form-label\">Roles:</label>\n      <p class=\"form-control-static\">{{ getUserRoles() }}</p>\n    </div>\n\n    <div class=\"text-center\">\n      <button class=\"btn btn-primary\" routerLink=\"/dashboard\">Go to Dashboard</button>\n    </div>\n  </div>\n</div>\n"],"mappings":";;;;;;;ICKMA,EAAA,CAAAC,SAAA,cAAiI;;;;IAAvGD,EAAA,CAAAE,UAAA,QAAAC,MAAA,CAAAC,YAAA,EAAAJ,EAAA,CAAAK,aAAA,CAAoB;;;;;IAC9CL,EAAA,CAAAC,SAAA,cAAoI;;;ADF1I,MAMaK,gBAAgB;EAI3BC,YACUC,WAAwB,EACxBC,SAAuB;IADvB,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,SAAS,GAATA,SAAS;EAChB;EAEHC,QAAQA,CAAA;IACN,IAAI,CAACF,WAAW,CAACG,cAAc,EAAE,CAACC,SAAS,CAAEC,GAAG,IAAI;MAClD,IAAI,CAACC,IAAI,GAAGD,GAAG;MACfE,OAAO,CAACC,GAAG,CAAC,OAAO,EAAE,IAAI,CAACF,IAAI,CAAC,CAAC,CAAC;MAEjC,IAAI,IAAI,CAACA,IAAI,EAAEG,QAAQ,EAAE;QACvB,IAAI,CAACb,YAAY,GAAG,IAAI,CAACK,SAAS,CAACS,sBAAsB,CAAC,IAAI,CAACJ,IAAI,CAACG,QAAQ,CAAC;;IAEjF,CAAC,CAAC;EACJ;EAEAE,YAAYA,CAAA;IACV,IAAI,CAAC,IAAI,CAACL,IAAI,EAAEM,KAAK,IAAI,CAACC,KAAK,CAACC,OAAO,CAAC,IAAI,CAACR,IAAI,CAACM,KAAK,CAAC,EAAE,OAAO,UAAU;IAC3E,OAAO,IAAI,CAACN,IAAI,CAACM,KAAK,CAACG,GAAG,CAAEC,CAAM,IAAKA,CAAC,CAACC,IAAI,CAAC,CAACC,IAAI,CAAC,IAAI,CAAC;EAC3D;;AAvBWpB,gBAAgB,C;mBAAhBA,gBAAgB,EAAAN,EAAA,CAAA2B,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAA7B,EAAA,CAAA2B,iBAAA,CAAAG,EAAA,CAAAC,YAAA;AAAA;AAAhBzB,gBAAgB,C;QAAhBA,gBAAgB;EAAA0B,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCV7BtC,EAAA,CAAAwC,cAAA,aAA8E;MAE7CxC,EAAA,CAAAyC,MAAA,mBAAY;MAAAzC,EAAA,CAAA0C,YAAA,EAAK;MAE9C1C,EAAA,CAAAwC,cAAA,aAA8B;MAC5BxC,EAAA,CAAA2C,UAAA,IAAAC,+BAAA,iBAAiI;MACjI5C,EAAA,CAAA2C,UAAA,IAAAE,+BAAA,iBAAoI;MACtI7C,EAAA,CAAA0C,YAAA,EAAM;MAEN1C,EAAA,CAAAwC,cAAA,aAAkB;MACUxC,EAAA,CAAAyC,MAAA,YAAK;MAAAzC,EAAA,CAAA0C,YAAA,EAAQ;MACvC1C,EAAA,CAAAwC,cAAA,YAA+B;MAAAxC,EAAA,CAAAyC,MAAA,IAA0C;MAAAzC,EAAA,CAAA0C,YAAA,EAAI;MAG/E1C,EAAA,CAAAwC,cAAA,cAAkB;MACUxC,EAAA,CAAAyC,MAAA,iBAAS;MAAAzC,EAAA,CAAA0C,YAAA,EAAQ;MAC3C1C,EAAA,CAAAwC,cAAA,YAA+B;MAAAxC,EAAA,CAAAyC,MAAA,IAAoB;MAAAzC,EAAA,CAAA0C,YAAA,EAAI;MAGzD1C,EAAA,CAAAwC,cAAA,cAAkB;MACUxC,EAAA,CAAAyC,MAAA,cAAM;MAAAzC,EAAA,CAAA0C,YAAA,EAAQ;MACxC1C,EAAA,CAAAwC,cAAA,YAA+B;MAAAxC,EAAA,CAAAyC,MAAA,IAAoB;MAAAzC,EAAA,CAAA0C,YAAA,EAAI;MAGzD1C,EAAA,CAAAwC,cAAA,cAAyB;MACiCxC,EAAA,CAAAyC,MAAA,uBAAe;MAAAzC,EAAA,CAAA0C,YAAA,EAAS;;;MApB1E1C,EAAA,CAAA8C,SAAA,GAAkB;MAAlB9C,EAAA,CAAAE,UAAA,SAAAqC,GAAA,CAAAnC,YAAA,CAAkB;MAClBJ,EAAA,CAAA8C,SAAA,GAAmB;MAAnB9C,EAAA,CAAAE,UAAA,UAAAqC,GAAA,CAAAnC,YAAA,CAAmB;MAKMJ,EAAA,CAAA8C,SAAA,GAA0C;MAA1C9C,EAAA,CAAA+C,kBAAA,KAAAR,GAAA,CAAAzB,IAAA,kBAAAyB,GAAA,CAAAzB,IAAA,CAAAkC,SAAA,OAAAT,GAAA,CAAAzB,IAAA,kBAAAyB,GAAA,CAAAzB,IAAA,CAAAmC,QAAA,KAA0C;MAK1CjD,EAAA,CAAA8C,SAAA,GAAoB;MAApB9C,EAAA,CAAAkD,iBAAA,CAAAX,GAAA,CAAAzB,IAAA,kBAAAyB,GAAA,CAAAzB,IAAA,CAAAqC,QAAA,CAAoB;MAKpBnD,EAAA,CAAA8C,SAAA,GAAoB;MAApB9C,EAAA,CAAAkD,iBAAA,CAAAX,GAAA,CAAApB,YAAA,GAAoB;;;;;;SDX5Cb,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}